<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>생성자 함수(prototype function)을 이용하여 객체 생성 및 사용하기</title>
    <script>
      function Account(owner, accNum, balance) {
        this.owner = owner;
        this.accNum = accNum;
        this.balance = balance;
        this.bankName = "우리은행";
        this.name = "직장인 비과세 예금";

        this.deposit = function (money) {
          this.balance += money;
        };

        this.withDraw = function (money) {
          if (this.balance >= money) {
            this.balance -= money;
            return `잔액 : ${this.balance}`;
          } else {
            return "잔액부족";
          }
        };
      }

      let acc1 = new Account("둘리", "1111", 500);
      let acc2 = new Account("도우너", "2222", 1500);

      console.log(acc1);
      console.log(acc2);
      document.write(`예금주 : ${acc1.bankName}`);

      // 축약형 account 객체가 아니라 object 객체 간단하게 데이터를 저장하는 용도
      let acc3 = {
        owner: "마이콜",
        accNum: "3333",
        balance: 2000,
        deposit: function (money) {
          this.balance += money;
        },

        withDraw: function (money) {
          if (this.balance >= money) {
            this.balance -= money;
            return `잔액 : ${this.balance}`;
          } else {
            return "잔액부족";
          }
        },
      };
      console.log(acc3);

      let accounts = [];
      accounts[0] = acc1;
      accounts[1] = acc2;

      console.log(accounts);
      console.log(accounts[1].balance);

      document.write(JSON.stringify(accounts)); // Json 문쟈열로 바꿔서 다른 컴퓨터에 보내기
      // 틀만 바뀌면 되니까 유지보수도 편한다.
    </script>
  </head>
  <body></body>
</html>
